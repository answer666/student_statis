!function(n){var e={};function r(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=n,r.c=e,r.d=function(n,e,t){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)r.d(t,i,function(e){return n[e]}.bind(null,i));return t},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=2)}({2:function(n,e){layui.define(["form","layer","laydate","upload","base","element"],(function(n){"use strict";var e=layui.form,r=void 0===parent.layer?layui.layer:top.layer,t=layui.laydate,i=(layui.upload,layui.base),a=(layui.element,layui.$),o={edit:function(n,e=0,r=0,t=0,a=[],l=!1){var u=e>0?"修改":"新增";i.isEmpty(n)?u+="内容":u+=n;var c=cUrl+"/edit?id="+e;if(Array.isArray(a))for(var s in a)c+="&"+a[s];o.showWin(u,c,r,t,a,2,[],(function(){}),l)},detail:function(n,e,r=0,t=0){var i=cUrl+"/detail?id="+e;o.showWin(n+"详情",i,r,t)},cache:function(n){var e=cUrl+"/cache";o.ajaxPost(e,{id:n},(function(n,e){}))},copy:function(n,e,r=0,t=0){var i=cUrl+"/copy?id="+e;o.showWin(n+"复制",i,r,t)},drop:function(n,e=null){r.confirm("您确定要删除吗？删除后将无法恢复！",{icon:3,skin:"layer-ext-moon",btn:["确认","取消"]},(function(t){var i=cUrl+"/drop";o.ajaxPost(i,{id:n},(function(n,i){e&&(r.close(t),e(n,i))}),"正在删除。。。")}))},batchFunc:function(n,e=null){var t=n.url,i=n.title,a=(n.form,n.confirm||!1),l=n.show_tips||"处理中...",u=n.data||[],c=n.param||[];if(0==u.length)return r.msg("请选择数据",{icon:5}),!1;var s=[];for(var f in u)s.push(u[f].id);var d=s.join(","),p={};if(p.id=d,Array.isArray(c))for(var f in c){var y=c[f].split("=");p[y[0]]=y[1]}a?r.confirm("您确定要【"+i+"】选中的数据吗？",{icon:3,title:"提示信息"},(function(n){o.ajaxPost(t,p,e,l)})):o.ajaxPost(t,p,e,l)},verify:function(){e.verify({number:[/^[0-9]*$/,"请输入数字"],username:function(n,e){return new RegExp("^[a-zA-Z0-9_一-龥\\s·]+$").test(n)?/(^\_)|(\__)|(\_+$)/.test(n)?title+"首尾不能出现下划线'_'":/^\d+\d+\d$/.test(n)?title+"不能全为数字":void 0:title+"不能含有特殊字符"},pass:[/^[\S]{6,12}$/,"密码必须6到12位，且不能出现空格"]})},submitForm:function(n,e=null,r=null){var t=[],l=[],u=n;a.each(u,(function(n,e){if(/\[|\]|【|】/g.test(n)){var r=n.match(/\[(.+?)\]/g);e=n.match("\\[(.+?)\\]")[1];var i=n.replace(r,"");a.inArray(i,t)<0&&t.push(i),l[i]||(l[i]=[]),l[i].push(e)}})),a.each(t,(function(n,e){var r=[];a.each(l[e],(function(n,t){r.push(t),delete u[e+"["+t+"]"]})),u[e]=r.join(",")}));u.layReload;if(delete u.layReload,null==e){var c=a("form").attr("action");e=i.isEmpty(c)?aUrl:c}o.ajaxPost(e,u,(function(n,e){if(e)return setTimeout((function(){var n=parent.layer.getFrameIndex(window.name);parent.layer.close(n),parent.location.reload()}),500),r&&r(n,e),!1}))},searchForm:function(n,e,r="tableList"){n.reload(r,{page:{curr:1},where:e.field})},initDate:function(n,e=null){if(Array.isArray(n))for(var r in n){var i=n[r].split("|");if(i[2])var a=i[2].split(",");var o={};if(o.elem="#"+i[0],o.type=i[1],o.theme="molv",o.range="true"===i[3]||i[3],o.calendar=!0,o.show=!1,o.position="absolute",o.trigger="click",o.btns=["clear","now","confirm"],o.mark={"0-06-25":"生日","0-12-31":"跨年"},o.ready=function(n){},o.change=function(n,e,r){},o.done=function(n,r,t){e&&e(n,r)},a){var l=a[0];if(l){var u=!isNaN(l);o.min=u?parseInt(l):l}var c=a[1];if(c){var s=!isNaN(c);o.max=s?parseInt(c):c}}t.render(o)}},showWin:function(n,e,r=0,t=0,i=[],o=2,l=[],u=null,c=!1){var s=layui.layer.open({title:n,type:o,area:[r+"px",t+"px"],content:e,shadeClose:c,shade:.4,success:function(n,e){if(Array.isArray(i))for(var r in i){var t=i[r].split("=");layui.layer.getChildFrame("body",e).find("#"+t[0]).val(t[1])}u&&u(n,e)},end:function(){}});0==r&&(layui.layer.full(s),a(window).on("resize",(function(){layui.layer.full(s)})))},ajaxPost:function(n,e,t=null,i="处理中,请稍后..."){var o=null;a.ajax({url:n,dataType:"json",type:"POST",data:e,beforeSend:function(){o=r.msg(i,{icon:16,shade:.01,time:0})},success:function(n){if(!n.success)return r.msg(n.msg,{icon:5}),!1;r.msg(n.msg,{icon:1,time:500},(function(){r.close(o),t&&t(e,!0)}))},error:function(){r.msg("AJAX请求异常"),t&&t(e,!1)}})},formSwitch:function(n,r="",t=null){e.on("switch("+n+")",(function(e){var a=this.checked?"1":"2";if(i.isEmpty(r))if(n.indexOf("_")>=0){var l=n.split("_");r=cUrl+"/set"+l[0].substring(0,1).toUpperCase()+l[0].substring(1)+l[1].substring(0,1).toUpperCase()+l[1].substring(1)}else r=cUrl+"/set"+n.substring(0,1).toUpperCase()+n.substring(1);var u={};u.id=this.value,u[n]=a;var c=JSON.stringify(u),s=JSON.parse(c);o.ajaxPost(r,s,(function(n,e){t&&t(n,e)}))}))}};n("common",o)}))}});